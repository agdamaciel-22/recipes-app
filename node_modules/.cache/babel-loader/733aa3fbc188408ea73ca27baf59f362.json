{"ast":null,"code":"var _jsxFileName = \"/home/myrella/\\xC1rea de Trabalho/projetos2/sd-021-b-project-recipes-app/src/components/SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport MyContext from '../context/MyContext';\nimport { getRecipes } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchBar() {\n  _s();\n\n  const {\n    search,\n    setSearch\n  } = useContext(MyContext);\n  const history = useHistory();\n  const pathname = history.location.pathname.split('/')[1];\n\n  async function handleSearch(database) {\n    const allRecipes = await getRecipes(database, search.searchType, search.searchText);\n    setSearch({ ...search,\n      searchResult: allRecipes\n    });\n\n    if (!allRecipes[0]) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n\n    if (allRecipes.length === 1) {\n      const recipeId = allRecipes[0][Object.keys(allRecipes[0])[0]];\n      history.push(`/${pathname}/${recipeId}`);\n    }\n  }\n\n  const handleChange = _ref => {\n    let {\n      target: {\n        value\n      }\n    } = _ref;\n    return setSearch(prevState => ({ ...prevState,\n      searchType: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"ingredient-search-radio\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        \"data-testid\": \"ingredient-search-radio\",\n        id: \"ingredient-search-radio\",\n        name: \"search\",\n        value: \"ingredient\",\n        type: \"radio\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), \"Ingredient\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"name-search-radio\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        \"data-testid\": \"name-search-radio\",\n        id: \"name-search-radio\",\n        name: \"search\",\n        value: \"name\",\n        type: \"radio\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), \"Name\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"first-letter-search-radio\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        \"data-testid\": \"first-letter-search-radio\",\n        id: \"first-letter-search-radio\",\n        name: \"search\",\n        value: \"first-letter\",\n        type: \"radio\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), \"First Letter\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-testid\": \"exec-search-btn\",\n      type: \"button\",\n      onClick: () => pathname === 'foods' ? handleSearch('meal') : handleSearch('cocktail'),\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"hQ/Tp1QTXb9gsHd7jhz1+T6eXnc=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useContext","useHistory","MyContext","getRecipes","SearchBar","search","setSearch","history","pathname","location","split","handleSearch","database","allRecipes","searchType","searchText","searchResult","global","alert","length","recipeId","Object","keys","push","handleChange","target","value","prevState"],"sources":["/home/myrella/Área de Trabalho/projetos2/sd-021-b-project-recipes-app/src/components/SearchBar.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport MyContext from '../context/MyContext';\nimport { getRecipes } from '../services/api';\n\nfunction SearchBar() {\n  const { search, setSearch } = useContext(MyContext);\n  const history = useHistory();\n  const pathname = history.location.pathname.split('/')[1];\n\n  async function handleSearch(database) {\n    const allRecipes = await getRecipes(database, search.searchType, search.searchText);\n    setSearch({\n      ...search,\n      searchResult: allRecipes,\n    });\n    if (!allRecipes[0]) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n    if (allRecipes.length === 1) {\n      const recipeId = allRecipes[0][Object.keys(allRecipes[0])[0]];\n      history.push(`/${pathname}/${recipeId}`);\n    }\n  }\n\n  const handleChange = ({ target: { value } }) => setSearch((prevState) => ({\n    ...prevState,\n    searchType: value,\n  }));\n\n  return (\n    <form>\n      <label htmlFor=\"ingredient-search-radio\">\n        <input\n          data-testid=\"ingredient-search-radio\"\n          id=\"ingredient-search-radio\"\n          name=\"search\"\n          value=\"ingredient\"\n          type=\"radio\"\n          required\n          onChange={ handleChange }\n        />\n        Ingredient\n      </label>\n      <label htmlFor=\"name-search-radio\">\n        <input\n          data-testid=\"name-search-radio\"\n          id=\"name-search-radio\"\n          name=\"search\"\n          value=\"name\"\n          type=\"radio\"\n          onChange={ handleChange }\n        />\n        Name\n      </label>\n      <label htmlFor=\"first-letter-search-radio\">\n        <input\n          data-testid=\"first-letter-search-radio\"\n          id=\"first-letter-search-radio\"\n          name=\"search\"\n          value=\"first-letter\"\n          type=\"radio\"\n          onChange={ handleChange }\n        />\n        First Letter\n      </label>\n      <button\n        data-testid=\"exec-search-btn\"\n        type=\"button\"\n        onClick={ () => (pathname === 'foods'\n          ? handleSearch('meal') : handleSearch('cocktail')) }\n      >\n        Search\n      </button>\n    </form>);\n}\n\nexport default SearchBar;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAASC,UAAT,QAA2B,iBAA3B;;;AAEA,SAASC,SAAT,GAAqB;EAAA;;EACnB,MAAM;IAAEC,MAAF;IAAUC;EAAV,IAAwBN,UAAU,CAACE,SAAD,CAAxC;EACA,MAAMK,OAAO,GAAGN,UAAU,EAA1B;EACA,MAAMO,QAAQ,GAAGD,OAAO,CAACE,QAAR,CAAiBD,QAAjB,CAA0BE,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAjB;;EAEA,eAAeC,YAAf,CAA4BC,QAA5B,EAAsC;IACpC,MAAMC,UAAU,GAAG,MAAMV,UAAU,CAACS,QAAD,EAAWP,MAAM,CAACS,UAAlB,EAA8BT,MAAM,CAACU,UAArC,CAAnC;IACAT,SAAS,CAAC,EACR,GAAGD,MADK;MAERW,YAAY,EAAEH;IAFN,CAAD,CAAT;;IAIA,IAAI,CAACA,UAAU,CAAC,CAAD,CAAf,EAAoB;MAClBI,MAAM,CAACC,KAAP,CAAa,yDAAb;IACD;;IACD,IAAIL,UAAU,CAACM,MAAX,KAAsB,CAA1B,EAA6B;MAC3B,MAAMC,QAAQ,GAAGP,UAAU,CAAC,CAAD,CAAV,CAAcQ,MAAM,CAACC,IAAP,CAAYT,UAAU,CAAC,CAAD,CAAtB,EAA2B,CAA3B,CAAd,CAAjB;MACAN,OAAO,CAACgB,IAAR,CAAc,IAAGf,QAAS,IAAGY,QAAS,EAAtC;IACD;EACF;;EAED,MAAMI,YAAY,GAAG;IAAA,IAAC;MAAEC,MAAM,EAAE;QAAEC;MAAF;IAAV,CAAD;IAAA,OAA2BpB,SAAS,CAAEqB,SAAD,KAAgB,EACxE,GAAGA,SADqE;MAExEb,UAAU,EAAEY;IAF4D,CAAhB,CAAD,CAApC;EAAA,CAArB;;EAKA,oBACE;IAAA,wBACE;MAAO,OAAO,EAAC,yBAAf;MAAA,wBACE;QACE,eAAY,yBADd;QAEE,EAAE,EAAC,yBAFL;QAGE,IAAI,EAAC,QAHP;QAIE,KAAK,EAAC,YAJR;QAKE,IAAI,EAAC,OALP;QAME,QAAQ,MANV;QAOE,QAAQ,EAAGF;MAPb;QAAA;QAAA;QAAA;MAAA,QADF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAaE;MAAO,OAAO,EAAC,mBAAf;MAAA,wBACE;QACE,eAAY,mBADd;QAEE,EAAE,EAAC,mBAFL;QAGE,IAAI,EAAC,QAHP;QAIE,KAAK,EAAC,MAJR;QAKE,IAAI,EAAC,OALP;QAME,QAAQ,EAAGA;MANb;QAAA;QAAA;QAAA;MAAA,QADF;IAAA;MAAA;MAAA;MAAA;IAAA,QAbF,eAwBE;MAAO,OAAO,EAAC,2BAAf;MAAA,wBACE;QACE,eAAY,2BADd;QAEE,EAAE,EAAC,2BAFL;QAGE,IAAI,EAAC,QAHP;QAIE,KAAK,EAAC,cAJR;QAKE,IAAI,EAAC,OALP;QAME,QAAQ,EAAGA;MANb;QAAA;QAAA;QAAA;MAAA,QADF;IAAA;MAAA;MAAA;MAAA;IAAA,QAxBF,eAmCE;MACE,eAAY,iBADd;MAEE,IAAI,EAAC,QAFP;MAGE,OAAO,EAAG,MAAOhB,QAAQ,KAAK,OAAb,GACbG,YAAY,CAAC,MAAD,CADC,GACUA,YAAY,CAAC,UAAD,CAJzC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAnCF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6CD;;GAtEQP,S;UAESH,U;;;KAFTG,S;AAwET,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}