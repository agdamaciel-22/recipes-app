{"ast":null,"code":"var _jsxFileName = \"/home/myrella/\\xC1rea de Trabalho/projetos2/sd-021-b-project-recipes-app/src/pages/RecipeInProgress.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { fetchRecipeWithID } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RecipeInProgress() {\n  _s();\n\n  const [currentRecipe, setCurrentRecipe] = useState({});\n  const [ingList, setIngList] = useState([]);\n  const [measureList, setMeasureList] = useState([['a', 'b'], ['c', 'd']]);\n  const {\n    pathname\n  } = useLocation();\n  const splited = pathname.split('/');\n  const path = splited[1];\n  const id = splited[2];\n  const type = path === 'foods' ? 'Meal' : 'Drink';\n  const [isCopied, setIsCopied] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(true);\n  const RECIPE_NUMBER = 13;\n  const LAST_LETTER = -1;\n  const checkDisabled = useCallback(() => {\n    var _mealsOrCocktails$id;\n\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {}\n    };\n    const recipeType = path === 'foods' ? 'meals' : 'cocktails';\n    const {\n      [recipeType]: mealsOrCocktails\n    } = inProgressRecipes;\n    return ((_mealsOrCocktails$id = mealsOrCocktails[id]) === null || _mealsOrCocktails$id === void 0 ? void 0 : _mealsOrCocktails$id.length) !== ingList.length;\n  }, [path, id, ingList]);\n  useEffect(() => {\n    const fetchAndSetRecipe = async () => {\n      const recipe = await fetchRecipeWithID(path, id);\n      setCurrentRecipe(recipe[0]);\n      setIsDisabled(checkDisabled());\n    };\n\n    fetchAndSetRecipe();\n  }, [path, id, checkDisabled]);\n  useEffect(() => {\n    const getRecipe = async () => {\n      const ingredientList = Object.entries(currentRecipe).filter(entry => entry[0].includes('strIngredient')).filter(entry => entry[1] !== '' && entry[1] !== null);\n      setIngList(ingredientList);\n      const measList = Object.entries(currentRecipe).filter(entry => entry[0].includes('strMeasure'));\n      setMeasureList(measList);\n    };\n\n    getRecipe();\n  }, [currentRecipe]);\n\n  const isChecked = ingredientId => {\n    var _inProgressRecipes$co;\n\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {}\n    };\n\n    if (path === 'foods') {\n      var _inProgressRecipes$me;\n\n      return (_inProgressRecipes$me = inProgressRecipes.meals[id]) === null || _inProgressRecipes$me === void 0 ? void 0 : _inProgressRecipes$me.includes(ingredientId);\n    }\n\n    return (_inProgressRecipes$co = inProgressRecipes.cocktails[id]) === null || _inProgressRecipes$co === void 0 ? void 0 : _inProgressRecipes$co.includes(ingredientId);\n  };\n\n  const handleCheck = _ref => {\n    let {\n      target: {\n        value\n      }\n    } = _ref;\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {}\n    };\n    const recipeType = path === 'foods' ? 'meals' : 'cocktails';\n    const {\n      [recipeType]: mealsOrCocktails\n    } = inProgressRecipes;\n\n    if (isChecked(value)) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify({ ...inProgressRecipes,\n        [recipeType]: { ...mealsOrCocktails,\n          [id]: inProgressRecipes[recipeType][id].filter(recipe => recipe !== value)\n        }\n      }));\n    } else {\n      localStorage.setItem('inProgressRecipes', JSON.stringify({ ...inProgressRecipes,\n        [recipeType]: { ...mealsOrCocktails,\n          [id]: mealsOrCocktails[id] ? [...mealsOrCocktails[id], value] : [value]\n        }\n      }));\n    }\n\n    setIsDisabled(checkDisabled());\n  };\n\n  const checkFavorite = () => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    return favoriteRecipes.some(recipe => recipe.id === id);\n  };\n\n  const [isFavorite, setIsFavorite] = useState(checkFavorite());\n\n  const handleFavorite = () => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n\n    if (checkFavorite()) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes.filter(recipe => recipe.id !== id)));\n    } else {\n      const {\n        strArea,\n        strCategory,\n        strAlcoholic\n      } = currentRecipe;\n      localStorage.setItem('favoriteRecipes', JSON.stringify([...favoriteRecipes, {\n        id,\n        type: path.slice(0, LAST_LETTER),\n        nationality: strArea || '',\n        category: strCategory,\n        alcoholicOrNot: strAlcoholic || '',\n        name: currentRecipe[`str${type}`],\n        image: currentRecipe[`str${type}Thumb`]\n      }]));\n    }\n\n    setIsFavorite(checkFavorite());\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-photo\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentRecipe[`str${type}Thumb`],\n        \"data-testid\": \"recipe-photo\",\n        alt: `${currentRecipe[`str${type}`]}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        \"data-testid\": \"recipe-title\",\n        children: currentRecipe[`str${type}`]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"share-btn\",\n          type: \"image\",\n          src: shareIcon,\n          alt: \"Share button\",\n          onClick: () => {\n            copy(`http://localhost:3000/${path}/${id}`);\n            setIsCopied(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"favorite-btn\",\n          type: \"image\",\n          src: isFavorite ? blackHeartIcon : whiteHeartIcon,\n          alt: \"Favorite button\",\n          onClick: handleFavorite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), isCopied && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Link copied!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 20\n    }, this), path === 'foods' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"recipe-category\",\n      children: currentRecipe.strCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"recipe-category\",\n      children: currentRecipe.strAlcoholic\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      className: \"mg-15\",\n      children: ingList[0] && measureList[0] && ingList.map((recipe, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-testid\": `${index}-ingredient-step`,\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `${index}-ingredient-checkbox`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: `${index}-ingredient-checkbox`,\n            value: recipe[0].slice(RECIPE_NUMBER),\n            defaultChecked: isChecked(recipe[0].slice(RECIPE_NUMBER)) || false,\n            onChange: e => handleCheck(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), ` ${recipe[1]}${measureList[index][1] ? ` - ${measureList[index][1]}` : ''}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"instructions\",\n      className: \"instructions\",\n      children: currentRecipe.strInstructions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/done-recipes\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"finish-recipe-btn\",\n        className: \"recipe-btn\",\n        type: \"button\",\n        disabled: isDisabled,\n        children: \"Finish Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RecipeInProgress, \"vFSyu3X7PqEyZWVOuxPTiz9Pw2o=\", false, function () {\n  return [useLocation];\n});\n\n_c = RecipeInProgress;\nexport default RecipeInProgress;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeInProgress\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","Link","useLocation","copy","shareIcon","whiteHeartIcon","blackHeartIcon","fetchRecipeWithID","RecipeInProgress","currentRecipe","setCurrentRecipe","ingList","setIngList","measureList","setMeasureList","pathname","splited","split","path","id","type","isCopied","setIsCopied","isDisabled","setIsDisabled","RECIPE_NUMBER","LAST_LETTER","checkDisabled","inProgressRecipes","JSON","parse","localStorage","getItem","cocktails","meals","recipeType","mealsOrCocktails","length","fetchAndSetRecipe","recipe","getRecipe","ingredientList","Object","entries","filter","entry","includes","measList","isChecked","ingredientId","handleCheck","target","value","setItem","stringify","checkFavorite","favoriteRecipes","some","isFavorite","setIsFavorite","handleFavorite","strArea","strCategory","strAlcoholic","slice","nationality","category","alcoholicOrNot","name","image","map","index","e","strInstructions"],"sources":["/home/myrella/Ãrea de Trabalho/projetos2/sd-021-b-project-recipes-app/src/pages/RecipeInProgress.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { fetchRecipeWithID } from '../services/api';\n\nfunction RecipeInProgress() {\n  const [currentRecipe, setCurrentRecipe] = useState({});\n  const [ingList, setIngList] = useState([]);\n  const [measureList, setMeasureList] = useState([['a', 'b'], ['c', 'd']]);\n  const { pathname } = useLocation();\n  const splited = pathname.split('/');\n  const path = splited[1];\n  const id = splited[2];\n  const type = (path === 'foods') ? 'Meal' : 'Drink';\n  const [isCopied, setIsCopied] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(true);\n  const RECIPE_NUMBER = 13;\n  const LAST_LETTER = -1;\n\n  const checkDisabled = useCallback(() => {\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {},\n    };\n    const recipeType = path === 'foods' ? 'meals' : 'cocktails';\n    const { [recipeType]: mealsOrCocktails } = inProgressRecipes;\n    return mealsOrCocktails[id]?.length !== ingList.length;\n  }, [path, id, ingList]);\n\n  useEffect(() => {\n    const fetchAndSetRecipe = async () => {\n      const recipe = await fetchRecipeWithID(path, id);\n      setCurrentRecipe(recipe[0]);\n      setIsDisabled(checkDisabled());\n    };\n    fetchAndSetRecipe();\n  }, [path, id, checkDisabled]);\n\n  useEffect(() => {\n    const getRecipe = async () => {\n      const ingredientList = Object.entries(currentRecipe).filter((entry) => entry[0]\n        .includes('strIngredient'))\n        .filter((entry) => entry[1] !== '' && entry[1] !== null);\n      setIngList(ingredientList);\n      const measList = Object.entries(currentRecipe).filter((entry) => entry[0]\n        .includes('strMeasure'));\n      setMeasureList(measList);\n    };\n    getRecipe();\n  }, [currentRecipe]);\n\n  const isChecked = (ingredientId) => {\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {},\n    };\n    if (path === 'foods') {\n      return inProgressRecipes.meals[id]?.includes(ingredientId);\n    }\n    return inProgressRecipes.cocktails[id]?.includes(ingredientId);\n  };\n  const handleCheck = ({ target: { value } }) => {\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || {\n      cocktails: {},\n      meals: {},\n    };\n    const recipeType = path === 'foods' ? 'meals' : 'cocktails';\n    const { [recipeType]: mealsOrCocktails } = inProgressRecipes;\n\n    if (isChecked(value)) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify({\n        ...inProgressRecipes,\n        [recipeType]: {\n          ...mealsOrCocktails,\n          [id]: inProgressRecipes[recipeType][id]\n            .filter((recipe) => recipe !== value),\n        },\n      }));\n    } else {\n      localStorage.setItem('inProgressRecipes', JSON.stringify({\n        ...inProgressRecipes,\n        [recipeType]: {\n          ...mealsOrCocktails,\n          [id]: mealsOrCocktails[id]\n            ? [...mealsOrCocktails[id], value]\n            : [value],\n        },\n      }));\n    }\n    setIsDisabled(checkDisabled());\n  };\n\n  const checkFavorite = () => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    return favoriteRecipes.some((recipe) => recipe.id === id);\n  };\n  const [isFavorite, setIsFavorite] = useState(checkFavorite());\n  const handleFavorite = () => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    if (checkFavorite()) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes\n        .filter((recipe) => recipe.id !== id)));\n    } else {\n      const { strArea, strCategory, strAlcoholic } = currentRecipe;\n      localStorage.setItem('favoriteRecipes', JSON.stringify([...favoriteRecipes, {\n        id,\n        type: path.slice(0, LAST_LETTER),\n        nationality: strArea || '',\n        category: strCategory,\n        alcoholicOrNot: strAlcoholic || '',\n        name: currentRecipe[`str${type}`],\n        image: currentRecipe[`str${type}Thumb`],\n      }]));\n    }\n    setIsFavorite(checkFavorite());\n  };\n\n  return (\n    <>\n      <div className=\"recipe-photo\">\n        <img\n          src={ currentRecipe[`str${type}Thumb`] }\n          data-testid=\"recipe-photo\"\n          alt={ `${currentRecipe[`str${type}`]}` }\n        />\n      </div>\n      <div className=\"recipe-title\">\n        <h2 data-testid=\"recipe-title\">{currentRecipe[`str${type}`]}</h2>\n        <span>\n          <input\n            data-testid=\"share-btn\"\n            type=\"image\"\n            src={ shareIcon }\n            alt=\"Share button\"\n            onClick={ () => {\n              copy(`http://localhost:3000/${path}/${id}`);\n              setIsCopied(true);\n            } }\n          />\n          <input\n            data-testid=\"favorite-btn\"\n            type=\"image\"\n            src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n            alt=\"Favorite button\"\n            onClick={ handleFavorite }\n          />\n        </span>\n      </div>\n      {isCopied && <span>Link copied!</span>}\n      {path === 'foods' ? (\n        <p data-testid=\"recipe-category\">\n          { currentRecipe.strCategory }\n        </p>\n      ) : (\n        <p data-testid=\"recipe-category\">\n          { currentRecipe.strAlcoholic }\n        </p>\n      )}\n      <h3>Ingredients</h3>\n      <ol className=\"mg-15\">\n        {ingList[0] && measureList[0] && ingList.map((recipe, index) => (\n          <li\n            key={ index }\n            data-testid={ `${index}-ingredient-step` }\n          >\n            <label htmlFor={ `${index}-ingredient-checkbox` }>\n              <input\n                type=\"checkbox\"\n                id={ `${index}-ingredient-checkbox` }\n                value={ recipe[0].slice(RECIPE_NUMBER) }\n                defaultChecked={ isChecked(recipe[0].slice(RECIPE_NUMBER)) || false }\n                onChange={ (e) => handleCheck(e) }\n              />\n              {` ${recipe[1]}${measureList[index][1]\n                ? ` - ${measureList[index][1]}` : ''}`}\n            </label>\n          </li>\n        ))}\n      </ol>\n      <h3>Instructions</h3>\n      <p\n        data-testid=\"instructions\"\n        className=\"instructions\"\n      >\n        {currentRecipe.strInstructions}\n      </p>\n      <Link to=\"/done-recipes\">\n        <button\n          data-testid=\"finish-recipe-btn\"\n          className=\"recipe-btn\"\n          type=\"button\"\n          disabled={ isDisabled }\n        >\n          Finish Recipe\n        </button>\n      </Link>\n    </>);\n}\n\nexport default RecipeInProgress;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}